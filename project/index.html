<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customizable Frontend for Demos</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>

</head>

<body>
    <div class="head">
        <div class="logo">
            <label for="logoInput"><img src="images/logo.png" id="previewLogo" alt="Company Logo"></label>
            <input type="file" id="logoInput" accept="image/*" style="display: none;"
                onchange="changeLogoHandler(this)">
        </div>
        <div class="nav-bar">
            <ul>
                <!-- <li><a href="#docSection">Documents</a></li>
                <li><a href="#imgSection">Image</a></li>
                <li><a href="#graphSection">Graph</a></li>
                <li><a href="#notesSection">Notes</a></li>
                <li><a href="#mapSection">Map</a></li> -->
            </ul>
        </div>
        <div class="edit">
            <button type="button" id="editButton">Edit</button>
            <div class="dropdown" id="addSectionContainer" style="display: none;">
                <button type="button" id="addSectionBtn" style="display: none;">+</button>
                <div class="dropdown-content" id="sectionOptions">
                    <button type="button" data-type="doc-section">Documents</button>
                    <button type="button" data-type="img-section">Image</button>
                    <button type="button" data-type="area-img-section">Area</button>
                    <button type="button" data-type="graph-section">Graph</button>
                    <button type="button" data-type="notes-section">Notes</button>
                    <button type="button" data-type="map-section">Map</button>
                </div>
            </div>
            <button type="button" id="saveBtn" style="display: none;">Save</button>
        </div>
        <div class="edit-sidebar" id="editControls" style="display: none;">
            <div class="edit-containers">
                <h2>Customize Your Web</h2>
                <div class="edit-group">
                    <h3>Colors:</h3>
                    <label>Background Color: <input value="#f99ff2" type="color" id="bgColorInput"></label>
                    <label>Second Background Color: <input type="color" id="secondColorInput"></label>
                    <label>Section Color: <input type="color" id="sectionColorInput"></label>
                    <label>Text Color: <input type="color" id="txtColorInput"></label>
                </div>
                <div class="edit-map-img">
                    <h3>Map Image:</h3>
                    <label class="updateImage" for="imageInput">Upload a map image</label>
                </div>
                <div class="edit-map-url">
                    <!-- <h3>Map URL:</h3>
                <input class="mapInput" type="url" id="mapInput" placeholder="Enter Google Maps URL (embed link)..."> -->
                </div>
                <!-- Edit the actions choices -->
                <div class="edit-actions-options">
                    <h3>Action Options:</h3>
                    <div class="controls">
                        <input type="text" id="option-input" placeholder="Type new or edit existing action...">
                        <button type="button" onclick="addOption()" id="addOptionBtn">Add</button>
                        <!-- <button type="button" onclick="editOption()" id="editOptionBtn">Edit</button>
                        <button type="button" onclick="deleteOption()" id="deleteOptionBtn">Delete</button> -->
                    </div>
                    <h3 style="margin-top: 10px;">Options:</h3>
                    <div class="sidebar-option-list" id="sidebarOptionList"></div>
                </div>

                <div class="edit-actions-input">
                    <h3>Actions Input:</h3>
                    <div class="edit-actions-config">
                        <input type="text" id="inputType" placeholder="Enter input type (e.g, text, number)">
                        <input type="text" id="inputName" placeholder="Enter input name">
                        <input type="text" id="inputPlaceholder" placeholder="Enter placeholder text">
                        <button type="button" onclick="addCustomInput()">Add</button>
                    </div>
                    <h3 style="margin-top: 10px;">Inputs:</h3>
                    <div class="sidebar-input-list" id="sidebarInputList"></div>
                </div>

                <div class="sidebar-area-list" id="sidebarAreaList">
                    <h3>Areas: </h3>
                </div>
            </div>

            <div class="reset-page-button">
                <button type="button" onClick="onResetButtonClick()">Reset Page</button>
            </div>
        </div>
    </div>
    <div class="main-body row-section">
        <div class="doc-section" id="docSection_def">
            <div class="section-header">
                <h2 id="editableDoc" contenteditable="true">Documents</h2>
            </div>
            <!-- when no files are uploaded -->
            <div class="no-files-panel" id="noFilesPanel_def">
                <p>Please add your excel sheets from here...</p>
                <div class="upload-box">
                    <label for="fileInput_def">Select</label>
                    <input type="file" id="fileInput_def" multiple accept=".xlsx,.xls,.csv" max="1"
                        onchange="handleFileUpload(this, 'def');loadCommentsFromLocalStorage(this)">
                </div>
            </div>

            <!-- when files are uploaded -->
            <div class="files-present-panel" id="filesPresentPanel_def" style="display: none;">
                <p class="info-text">This is your document</p>
                <div class="file-preview-layout">
                    <div class="file-grid" id="fileGrid_def"></div>

                    <div class="preview-panel" id="preview_def">
                        <!-- Preview content injected via JS -->
                        <h2 id="commentsTitle_def" style="display: none;">Comments</h2>
                        <div id="commentList_def" class="comment-list"></div>
                    </div>
                </div>

                <div class="info-actions-row">
                    <div class="offers-container">
                        <p contenteditable="true" class="offers-text">Offers for customers</p>
                        <div class="offers-preview">
                            <div class="previewID" name="previewID" id="previewID-def">
                                <p>This part will represent the offers to the customer.</p>
                            </div>
                        </div>
                        <div class="timeline-section" id="timelineSection">

                        </div>
                    </div>

                    <div class="actions-container">
                        <p class="actions-text">Mock Data Box</p>
                        <div id="actions-box-def" class="actions-box">

                        </div>
                    </div>

                    <!-- <div class="comment-container">
                        <p class="comment-text">Comment</p>
                        <div class="comment-box">
                            <input type="text" id="commentInput_def" placeholder="Write your comment here...">
                            <button onclick="onAddCommentButtonClicked(this)" type="button"
                                id="addCommentBtn_def">Add</button>
                        </div>
                    </div> -->
                </div>
                
            </div>
            
        </div>

        <!-- Image Section -->
        <div class="img-section" id="imgSection">
            <div class="section-header">
                <h2 id="editableImage" contenteditable="true">Customer Location</h2>
            </div>
            <div class="img-preview">
                <div class="row-img-section">
                    <img src="images/human.png" id="draggedHuman" class="dragged-human" alt="Human In a Map"
                        draggable="true" title="Drag Me">

                    <div class="customer-action-container" data-edit-mode="false">
                        <label for="customer-actions-choices">Choose an action:</label>
                        <select name="customer-actions-choices" id="customer-actions-choices">
                            <!-- <option value="deposit">Deposit Money</option>
                            <option value="withdraw">Withdraw Money</option>
                            <option value="transfare">Transfare Funds</option>
                            <option value="pay">Pay Pills</option> -->
                        </select>

                        <div class="custom-input-container" id="custom-input-container">
                            <!-- <label for=""></label> -->
                            <!-- <input type="number" name="amount" id="amount_def" placeholder="Amount in SAR" min="0"
                                step="0.01" required>
                            <button type="button" id="addAmountBtn_def">Apply</button> -->
                        </div>



                        <!-- This is only visible in edit mode -->
                        <!-- <div class="edit-options-ui" style="display: none; margin-top: 10px;">
                            <input type="text" class="new-option-label" placeholder="New option label">
                            <input type="text" class="new-option-value" placeholder="New option value">
                            <button type="button" class="add-option-btn">Add Option</button>
                            <button type="button" class="remove-selected-btn">Delete Selected</button>
                        </div> -->
                    </div>
                </div>

                <div class="image-wrapper" id="dropArea">
                    <button type="button" id="editMapButton">
                        Edit Map
                    </button>
                    <img src="images/map.png" id="previewImage" alt="Preview Image">
                    <canvas id="imageCanvas"></canvas>
                </div>
                <input type="file" id="imageInput" accept="image/*">
            </div>
            
        </div>
    </div>

    <div class=" footer">
        <label for="logoInput"></label><img src="images/logo.png" id="logoFooter" alt="Footer Logo"></lable>
        <p>© 2025 Customizable Frontend for Demos | All rights reserved.</p>
    </div>

    <script src="config.js"></script>
    <script src="script/main.js"></script>
    <script src="script/timeline.js"></script>
    <script src="script/offersBox.js"></script>
    <script src="script/wsConnection.js"></script>
    <script src="script/upload-files.js"></script>
    <script src="script.js"></script>
    <script src="openai.js"></script>
    <script src="script/Map.js"></script>
    <script src="script/apiConnection.js"></script>
    <script src="script/logo.js"></script>
    <script src="script/edit-headers.js"></script>
    <script src="script/add-comments.js"></script>
    <script src="script/reset-button.js"></script>
    <script src="script/images.js"></script>
    <script src="script/editableActions.js"></script>
    <script src="script/customInputs.js"></script>
    <script src="script/actionBox.js"></script>
</body>

</html>